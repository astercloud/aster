---
title: å¤šAgentæ¦‚å¿µå¯¹æ¯”
description: SubAgentã€Starsã€Cosmosã€AsterOS çš„åŒºåˆ«ä¸ä½¿ç”¨åœºæ™¯
navigation:
  icon: i-lucide-git-compare
---

# å¤šAgentæ¦‚å¿µå¯¹æ¯”

Aster æ¡†æ¶ä¸­æœ‰å¤šä¸ªä¸"å¤šAgent"ç›¸å…³çš„æ¦‚å¿µï¼Œå®ƒä»¬å„è‡ªè§£å†³ä¸åŒå±‚æ¬¡çš„é—®é¢˜ï¼Œ**äº’ä¸å†²çªï¼Œè€Œæ˜¯äº’è¡¥åä½œ**ã€‚

## ğŸ“Š æ¦‚å¿µå¯¹æ¯”è¡¨

| æ¦‚å¿µ         | å±‚æ¬¡     | ç”Ÿå‘½å‘¨æœŸ       | ä¸»è¦èŒè´£                | ä½¿ç”¨åœºæ™¯                      |
| ------------ | -------- | -------------- | ----------------------- | ----------------------------- |
| **SubAgent** | ä¸­é—´ä»¶å±‚ | çŸ­æš‚ï¼ˆä»»åŠ¡çº§ï¼‰ | ä»»åŠ¡å§”æ´¾ã€ä¸Šä¸‹æ–‡éš”ç¦»    | å•ä¸ª Agent å†…éƒ¨çš„å¤æ‚ä»»åŠ¡æ‹†åˆ† |
| **Stars**    | åä½œå±‚   | ä¸­ç­‰ï¼ˆä¼šè¯çº§ï¼‰ | å¤š Agent åä½œã€æ¶ˆæ¯è·¯ç”± | å¤šä¸ª Agent ä¹‹é—´çš„ååŒå·¥ä½œ     |
| **Cosmos**   | ç®¡ç†å±‚   | é•¿æœŸï¼ˆåº”ç”¨çº§ï¼‰ | Agent ç”Ÿå‘½å‘¨æœŸç®¡ç†      | åˆ›å»ºã€é”€æ¯ã€ç›‘æ§æ‰€æœ‰ Agent    |
| **AsterOS**  | è¿è¡Œæ—¶å±‚ | æŒä¹…ï¼ˆç³»ç»Ÿçº§ï¼‰ | ç»Ÿä¸€è¿è¡Œæ—¶ã€API ç½‘å…³    | å¯¹å¤–æä¾›æœåŠ¡ã€èµ„æºæ³¨å†Œ        |

## ğŸ¯ è¯¦ç»†å¯¹æ¯”

### 1. SubAgent (å­ä»£ç†ä¸­é—´ä»¶)

**å®šä½**: å•ä¸ª Agent å†…éƒ¨çš„ä»»åŠ¡å§”æ´¾æœºåˆ¶

**æ ¸å¿ƒç‰¹ç‚¹**:

- é€šè¿‡ `task` å·¥å…·è°ƒç”¨
- çŸ­ç”Ÿå‘½å‘¨æœŸï¼ˆä»»åŠ¡å®Œæˆå³é”€æ¯ï¼‰
- ä¸Šä¸‹æ–‡éš”ç¦»ï¼ˆç‹¬ç«‹çš„ context windowï¼‰
- å¹¶è¡Œæ‰§è¡Œæ”¯æŒ
- Token ä¼˜åŒ–ï¼ˆåªè¿”å›æ‘˜è¦ç»“æœï¼‰

**ä½¿ç”¨åœºæ™¯**:

```go
// åœºæ™¯ï¼šä¸€ä¸ª Agent éœ€è¦å¹¶è¡Œå¤„ç†å¤šä¸ªç‹¬ç«‹çš„å¤æ‚ä»»åŠ¡
// ä¾‹å¦‚ï¼šåŒæ—¶ç ”ç©¶3ä¸ªä¸åŒçš„ä¸»é¢˜

// Agent è°ƒç”¨ task å·¥å…·
task(description="ç ”ç©¶è©¹å§†æ–¯çš„æˆå°±", subagent_type="general-purpose")
task(description="ç ”ç©¶ä¹”ä¸¹çš„æˆå°±", subagent_type="general-purpose")
task(description="ç ”ç©¶ç§‘æ¯”çš„æˆå°±", subagent_type="general-purpose")

// 3ä¸ª SubAgent å¹¶è¡Œæ‰§è¡Œï¼Œå®Œæˆåè¿”å›æ‘˜è¦
// ä¸» Agent æ”¶é›†ç»“æœå¹¶è¿›è¡Œæ¯”è¾ƒ
```

**å…³é”®ç‚¹**:

- âœ… é€‚åˆï¼šå¤æ‚ã€ç‹¬ç«‹ã€å¯å¹¶è¡Œçš„ä»»åŠ¡
- âŒ ä¸é€‚åˆï¼šç®€å•ä»»åŠ¡ã€éœ€è¦çœ‹ä¸­é—´æ­¥éª¤çš„ä»»åŠ¡
- ğŸ¯ ç›®æ ‡ï¼šä¼˜åŒ– Token ä½¿ç”¨ã€éš”ç¦»ä¸Šä¸‹æ–‡ã€æå‡å¹¶è¡Œæ•ˆç‡

---

### 2. Stars (æ˜Ÿåº§åä½œ)

**å®šä½**: å¤šä¸ª Agent ä¹‹é—´çš„åä½œå•å…ƒ

**æ ¸å¿ƒç‰¹ç‚¹**:

- ç®¡ç†å¤šä¸ª Agent æˆå‘˜
- Leader-Worker æ¨¡å¼
- æ¶ˆæ¯å¹¿æ’­å’Œç‚¹å¯¹ç‚¹é€šä¿¡
- ä¼šè¯çº§ç”Ÿå‘½å‘¨æœŸ
- åä½œè°ƒåº¦

**ä½¿ç”¨åœºæ™¯**:

```go
// åœºæ™¯ï¼šå¤šä¸ªä¸“ä¸š Agent åä½œå®Œæˆå¤æ‚é¡¹ç›®
// ä¾‹å¦‚ï¼šè½¯ä»¶å¼€å‘å›¢é˜Ÿï¼ˆæ¶æ„å¸ˆã€å¼€å‘è€…ã€æµ‹è¯•å‘˜ï¼‰

stars := stars.New(cosmos, "DevTeam")
stars.Join("architect-agent", stars.RoleLeader)
stars.Join("developer-agent", stars.RoleWorker)
stars.Join("tester-agent", stars.RoleWorker)

// Leader åˆ†é…ä»»åŠ¡ï¼ŒWorkers åä½œå®Œæˆ
stars.Run(ctx, "å¼€å‘ä¸€ä¸ªç”¨æˆ·è®¤è¯ç³»ç»Ÿ")
```

**å…³é”®ç‚¹**:

- âœ… é€‚åˆï¼šå¤šä¸ª Agent éœ€è¦æŒç»­åä½œ
- âŒ ä¸é€‚åˆï¼šå•ä¸ª Agent çš„å†…éƒ¨ä»»åŠ¡æ‹†åˆ†
- ğŸ¯ ç›®æ ‡ï¼šå¤š Agent ååŒã€è§’è‰²åˆ†å·¥ã€æ¶ˆæ¯è·¯ç”±

---

### 3. Cosmos (å®‡å®™ç®¡ç†å™¨)

**å®šä½**: Agent ç”Ÿå‘½å‘¨æœŸç®¡ç†å™¨

**æ ¸å¿ƒç‰¹ç‚¹**:

- åˆ›å»ºã€è·å–ã€åˆ é™¤ Agent
- èµ„æºæ± ç®¡ç†
- å®¹é‡æ§åˆ¶ï¼ˆMaxAgentsï¼‰
- ç›‘æ§å’Œç»Ÿè®¡
- åº”ç”¨çº§ç”Ÿå‘½å‘¨æœŸ

**ä½¿ç”¨åœºæ™¯**:

```go
// åœºæ™¯ï¼šç®¡ç†åº”ç”¨ä¸­æ‰€æœ‰çš„ Agent å®ä¾‹

cosmos := cosmos.New(&cosmos.Options{
    Dependencies: deps,
    MaxAgents:    50,
})

// åˆ›å»ºä¸åŒç±»å‹çš„ Agent
chatAgent, _ := cosmos.Create(ctx, &types.AgentConfig{
    AgentID: "chat-1",
    TemplateID: "chat-assistant",
})

codeAgent, _ := cosmos.Create(ctx, &types.AgentConfig{
    AgentID: "code-1",
    TemplateID: "code-assistant",
})

// ç»Ÿä¸€ç®¡ç†æ‰€æœ‰ Agent
allAgents := cosmos.List("")
```

**å…³é”®ç‚¹**:

- âœ… é€‚åˆï¼šéœ€è¦ç®¡ç†å¤šä¸ª Agent å®ä¾‹
- âŒ ä¸é€‚åˆï¼šAgent å†…éƒ¨çš„ä»»åŠ¡å§”æ´¾
- ğŸ¯ ç›®æ ‡ï¼šç”Ÿå‘½å‘¨æœŸç®¡ç†ã€èµ„æºæ§åˆ¶ã€ç»Ÿä¸€ç›‘æ§

---

### 4. AsterOS (ç»Ÿä¸€è¿è¡Œæ—¶)

**å®šä½**: ç³»ç»Ÿçº§è¿è¡Œæ—¶å’Œ API ç½‘å…³

**æ ¸å¿ƒç‰¹ç‚¹**:

- æ•´åˆ Cosmos + Stars
- è‡ªåŠ¨ç”Ÿæˆ REST API
- å¤šæ¥å£æ”¯æŒï¼ˆHTTP/A2A/AGUIï¼‰
- èµ„æºæ³¨å†Œè¡¨
- ç³»ç»Ÿçº§ç”Ÿå‘½å‘¨æœŸ

**ä½¿ç”¨åœºæ™¯**:

```go
// åœºæ™¯ï¼šå¯¹å¤–æä¾› Agent æœåŠ¡çš„ç”Ÿäº§ç³»ç»Ÿ

os, _ := asteros.New(&asteros.Options{
    Name:   "ProductionOS",
    Port:   8080,
    Cosmos: cosmos,
})

// æ³¨å†Œ Agent
os.RegisterAgent("chat-agent", chatAgent)

// æ³¨å†Œ Stars
os.RegisterStars("dev-team", devTeamStars)

// å¯åŠ¨æœåŠ¡ï¼Œè‡ªåŠ¨ç”Ÿæˆ API
os.Serve()

// å®¢æˆ·ç«¯å¯ä»¥é€šè¿‡ HTTP è®¿é—®ï¼š
// GET  /api/agents
// POST /api/agents/chat-agent/run
// POST /api/stars/dev-team/run
```

**å…³é”®ç‚¹**:

- âœ… é€‚åˆï¼šéœ€è¦å¯¹å¤–æä¾›æœåŠ¡çš„ç”Ÿäº§ç³»ç»Ÿ
- âŒ ä¸é€‚åˆï¼šç®€å•çš„å• Agent åº”ç”¨
- ğŸ¯ ç›®æ ‡ï¼šç»Ÿä¸€è¿è¡Œæ—¶ã€API ç½‘å…³ã€èµ„æºç®¡ç†

## ğŸ”„ åä½œå…³ç³»

è¿™å››ä¸ªæ¦‚å¿µå½¢æˆäº†å®Œæ•´çš„å±‚æ¬¡ç»“æ„ï¼Œ**äº’ä¸å†²çª**ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  AsterOS (ç»Ÿä¸€è¿è¡Œæ—¶)                                    â”‚
â”‚  - HTTP/A2A/AGUI Interfaces                             â”‚
â”‚  - Registry (Agents/Stars/Workflows)                    â”‚
â”‚  - Auto API Generation                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Cosmos (ç”Ÿå‘½å‘¨æœŸç®¡ç†) + Stars (åä½œè°ƒåº¦)                â”‚
â”‚  - Create/Delete Agents                                 â”‚
â”‚  - Leader-Worker Pattern                                â”‚
â”‚  - Message Routing                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Agent Runtime (æ‰§è¡Œå¼•æ“)                                â”‚
â”‚  - Middleware Stack                                     â”‚
â”‚  - Provider Integration                                 â”‚
â”‚  - Tool Execution                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  SubAgent Middleware (ä»»åŠ¡å§”æ´¾)                          â”‚
â”‚  - task Tool                                            â”‚
â”‚  - Context Isolation                                    â”‚
â”‚  - Parallel Execution                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ’¡ å®é™…åº”ç”¨ç¤ºä¾‹

### ç¤ºä¾‹ 1: å• Agent åº”ç”¨ï¼ˆåªç”¨ SubAgentï¼‰

```go
// ç®€å•åº”ç”¨ï¼šä¸€ä¸ª Agent å¤„ç†å¤æ‚ä»»åŠ¡
agent := agent.Create(ctx, config, deps)

// ä½¿ç”¨ SubAgent ä¸­é—´ä»¶æ‹†åˆ†ä»»åŠ¡
agent.Chat(ctx, "åŒæ—¶ç ”ç©¶3ä¸ªä¸»é¢˜å¹¶æ¯”è¾ƒ")
// Agent å†…éƒ¨ä¼šå¹¶è¡Œå¯åŠ¨3ä¸ª SubAgent
```

**ä¸éœ€è¦**: Starsã€Cosmosã€AsterOS

---

### ç¤ºä¾‹ 2: å¤š Agent åä½œï¼ˆç”¨ Stars + Cosmosï¼‰

```go
// ä¸­ç­‰åº”ç”¨ï¼šå¤šä¸ª Agent åä½œ
cosmos := cosmos.New(opts)
stars := stars.New(cosmos, "Team")

// åˆ›å»ºå¤šä¸ª Agent
leader := cosmos.Create(ctx, leaderConfig)
worker1 := cosmos.Create(ctx, worker1Config)
worker2 := cosmos.Create(ctx, worker2Config)

// ç»„å»ºå›¢é˜Ÿ
stars.Join(leader.ID(), stars.RoleLeader)
stars.Join(worker1.ID(), stars.RoleWorker)
stars.Join(worker2.ID(), stars.RoleWorker)

// æ‰§è¡Œåä½œä»»åŠ¡
stars.Run(ctx, "å¼€å‘ä¸€ä¸ªç³»ç»Ÿ")
```

**ä¸éœ€è¦**: AsterOSï¼ˆå¦‚æœä¸å¯¹å¤–æä¾›æœåŠ¡ï¼‰

---

### ç¤ºä¾‹ 3: ç”Ÿäº§çº§æœåŠ¡ï¼ˆç”¨å…¨å¥—ï¼‰

```go
// ç”Ÿäº§åº”ç”¨ï¼šå¯¹å¤–æä¾› Agent æœåŠ¡
cosmos := cosmos.New(opts)

// åˆ›å»ºå¤šä¸ª Agent
chatAgent := cosmos.Create(ctx, chatConfig)
codeAgent := cosmos.Create(ctx, codeConfig)

// åˆ›å»ºåä½œå›¢é˜Ÿ
devTeam := stars.New(cosmos, "DevTeam")
devTeam.Join(codeAgent.ID(), stars.RoleLeader)

// åˆ›å»º AsterOS
os := asteros.New(&asteros.Options{
    Cosmos: cosmos,
    Port:   8080,
})

// æ³¨å†Œèµ„æº
os.RegisterAgent("chat", chatAgent)
os.RegisterAgent("code", codeAgent)
os.RegisterStars("dev-team", devTeam)

// å¯åŠ¨æœåŠ¡
os.Serve()
```

**ä½¿ç”¨å…¨å¥—**: SubAgentï¼ˆAgent å†…éƒ¨ï¼‰+ Starsï¼ˆåä½œï¼‰+ Cosmosï¼ˆç®¡ç†ï¼‰+ AsterOSï¼ˆå¯¹å¤–æœåŠ¡ï¼‰

## ğŸ“ é€‰æ‹©æŒ‡å—

### ä½•æ—¶ä½¿ç”¨ SubAgentï¼Ÿ

- âœ… å•ä¸ª Agent éœ€è¦å¤„ç†å¤æ‚çš„å¤šæ­¥éª¤ä»»åŠ¡
- âœ… ä»»åŠ¡å¯ä»¥æ‹†åˆ†ä¸ºç‹¬ç«‹çš„å­ä»»åŠ¡
- âœ… éœ€è¦å¹¶è¡Œæ‰§è¡Œæå‡æ•ˆç‡
- âœ… éœ€è¦éš”ç¦»ä¸Šä¸‹æ–‡é¿å…æ±¡æŸ“ä¸»çº¿ç¨‹

### ä½•æ—¶ä½¿ç”¨ Starsï¼Ÿ

- âœ… å¤šä¸ª Agent éœ€è¦æŒç»­åä½œ
- âœ… éœ€è¦ Leader-Worker æ¨¡å¼
- âœ… éœ€è¦æ¶ˆæ¯å¹¿æ’­å’Œç‚¹å¯¹ç‚¹é€šä¿¡
- âœ… ä»»åŠ¡éœ€è¦å¤šä¸ªä¸“ä¸š Agent é…åˆ

### ä½•æ—¶ä½¿ç”¨ Cosmosï¼Ÿ

- âœ… éœ€è¦ç®¡ç†å¤šä¸ª Agent å®ä¾‹
- âœ… éœ€è¦æ§åˆ¶ Agent æ•°é‡å’Œèµ„æº
- âœ… éœ€è¦ç»Ÿä¸€ç›‘æ§å’Œç»Ÿè®¡
- âœ… åº”ç”¨ä¸­æœ‰å¤šç§ç±»å‹çš„ Agent

### ä½•æ—¶ä½¿ç”¨ AsterOSï¼Ÿ

- âœ… éœ€è¦å¯¹å¤–æä¾› HTTP API
- âœ… éœ€è¦æ”¯æŒå¤šç§æ¥å£ï¼ˆHTTP/A2A/AGUIï¼‰
- âœ… éœ€è¦è‡ªåŠ¨ç”Ÿæˆ REST ç«¯ç‚¹
- âœ… ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

## ğŸš« ä¸å†²çªçš„åŸå› 

1. **ä¸åŒçš„æŠ½è±¡å±‚æ¬¡**
   - SubAgent: ä¸­é—´ä»¶å±‚ï¼ˆAgent å†…éƒ¨ï¼‰
   - Stars: åä½œå±‚ï¼ˆAgent ä¹‹é—´ï¼‰
   - Cosmos: ç®¡ç†å±‚ï¼ˆAgent ç”Ÿå‘½å‘¨æœŸï¼‰
   - AsterOS: è¿è¡Œæ—¶å±‚ï¼ˆç³»ç»Ÿçº§ï¼‰

2. **ä¸åŒçš„ç”Ÿå‘½å‘¨æœŸ**
   - SubAgent: ä»»åŠ¡çº§ï¼ˆç§’/åˆ†é’Ÿï¼‰
   - Stars: ä¼šè¯çº§ï¼ˆåˆ†é’Ÿ/å°æ—¶ï¼‰
   - Cosmos: åº”ç”¨çº§ï¼ˆå°æ—¶/å¤©ï¼‰
   - AsterOS: ç³»ç»Ÿçº§ï¼ˆæŒä¹…è¿è¡Œï¼‰

3. **ä¸åŒçš„ä½¿ç”¨åœºæ™¯**
   - SubAgent: ä»»åŠ¡æ‹†åˆ†å’Œå¹¶è¡Œ
   - Stars: å¤š Agent åä½œ
   - Cosmos: èµ„æºç®¡ç†
   - AsterOS: å¯¹å¤–æœåŠ¡

4. **äº’è¡¥è€Œéæ›¿ä»£**
   - å¯ä»¥å•ç‹¬ä½¿ç”¨ä»»ä½•ä¸€ä¸ª
   - ä¹Ÿå¯ä»¥ç»„åˆä½¿ç”¨å¤šä¸ª
   - æ ¹æ®åº”ç”¨å¤æ‚åº¦é€‰æ‹©

## ğŸ“ æ€»ç»“

- **SubAgent** è§£å†³çš„æ˜¯"ä¸€ä¸ª Agent å¦‚ä½•é«˜æ•ˆå¤„ç†å¤æ‚ä»»åŠ¡"
- **Stars** è§£å†³çš„æ˜¯"å¤šä¸ª Agent å¦‚ä½•åä½œå®Œæˆä»»åŠ¡"
- **Cosmos** è§£å†³çš„æ˜¯"å¦‚ä½•ç®¡ç†æ‰€æœ‰ Agent çš„ç”Ÿå‘½å‘¨æœŸ"
- **AsterOS** è§£å†³çš„æ˜¯"å¦‚ä½•å¯¹å¤–æä¾›ç»Ÿä¸€çš„ Agent æœåŠ¡"

å®ƒä»¬å„å¸å…¶èŒï¼Œäº’ä¸å†²çªï¼Œå…±åŒæ„å»ºäº†å®Œæ•´çš„å¤š Agent ç³»ç»Ÿæ¶æ„ã€‚
